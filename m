Return-Path: <linux-arch-owner@vger.kernel.org>
X-Original-To: lists+linux-arch@lfdr.de
Delivered-To: lists+linux-arch@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 80AE0276BC2
	for <lists+linux-arch@lfdr.de>; Thu, 24 Sep 2020 10:26:11 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727046AbgIXI0L (ORCPT <rfc822;lists+linux-arch@lfdr.de>);
        Thu, 24 Sep 2020 04:26:11 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:58100 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726979AbgIXI0L (ORCPT
        <rfc822;linux-arch@vger.kernel.org>); Thu, 24 Sep 2020 04:26:11 -0400
Received: from mail-pf1-x441.google.com (mail-pf1-x441.google.com [IPv6:2607:f8b0:4864:20::441])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id EADABC0613CE
        for <linux-arch@vger.kernel.org>; Thu, 24 Sep 2020 01:26:10 -0700 (PDT)
Received: by mail-pf1-x441.google.com with SMTP id b124so1418616pfg.13
        for <linux-arch@vger.kernel.org>; Thu, 24 Sep 2020 01:26:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20161025;
        h=date:message-id:from:to:cc:subject:in-reply-to:references
         :user-agent:mime-version;
        bh=8v+fh7RoSuroabj/wS3Bntvgriqb5h1BqOOCbFWBb3Y=;
        b=UMy/5ZVpdUyJ4lBhPg8eDTeGsTubd3POdMTTCPcCFJLrz5FTnN6hpLNFAUVM2bgtOX
         IFQf8TA4rwrMIPcMajCXNuL+Ig/JNRN15VeNEyxFM26RaoxdqBO/gU7MdrLbz/S43su9
         4S5oqAv61ku8DZR7NmyiP61C8tZnH+JKWQ1CKm6yZrGLDAuA3QSjJeYG/NNScxd2dpEp
         AOJFIVx1sqvqBda4DkRWS43+8wTBOT/eZUk2UctbdnTlyoufYX1RJmgIn0Ntkim7dWjp
         Ibr2ErKy8EVMYo6RukNSu0CU4OcyBxIJytqFLIqYkIB6NQZNb/p2U49PZzH6bZAG7ZSp
         MLpg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=x-gm-message-state:date:message-id:from:to:cc:subject:in-reply-to
         :references:user-agent:mime-version;
        bh=8v+fh7RoSuroabj/wS3Bntvgriqb5h1BqOOCbFWBb3Y=;
        b=VMfVgyeeVILmx4fYJH9ZBQnBPgLfTQrfZm6omVieLX1KF1d04vp9CwvFnIwTWhOE/N
         L/Ybybu6CHAU6fK0zJTinCje0/9vq94jDrcNVJVywvnv3Uoocvj1XfhtK3CgJlJ7kv6s
         kietk+Z/uGY0azcm6ibQRGBCfTDXpMVgPmhW/+S4BpsRLxagPs7IkptMjw41X/E8uTSw
         e4Ibf1ZrfUuSNZ2jTVPNSGCgollYGO6fT4T4WSEpWdki8HaHFlSlC624yPH8an9rzthn
         2a4WYFCwQZehWDJc2Ny4oxAQO5+z+Ai2beVTH6mD6wnDY0tXD4YuEK7jujojNI/E11Wa
         0/wA==
X-Gm-Message-State: AOAM532fGzfClCYUDNaMBc50LKhJRygwlSOljBQZElnXNTNMgPpwX84m
        8KcBM7C77Nlpuy/pS93adiI=
X-Google-Smtp-Source: ABdhPJzY3uAiYtA4LfrX2NA1I1SshSYh1OS5jFu+t6tIvyfeWGFxeYqRFKVjW34g5zTls/k2sPrXxQ==
X-Received: by 2002:a63:e802:: with SMTP id s2mr3067448pgh.350.1600935970281;
        Thu, 24 Sep 2020 01:26:10 -0700 (PDT)
Received: from earth-mac.local.gmail.com (219x123x138x129.ap219.ftth.ucom.ne.jp. [219.123.138.129])
        by smtp.gmail.com with ESMTPSA id bt13sm1671051pjb.23.2020.09.24.01.26.07
        (version=TLS1_2 cipher=ECDHE-ECDSA-CHACHA20-POLY1305 bits=256/256);
        Thu, 24 Sep 2020 01:26:09 -0700 (PDT)
Date:   Thu, 24 Sep 2020 17:26:03 +0900
Message-ID: <m2h7rn7f8k.wl-thehajime@gmail.com>
From:   Hajime Tazaki <thehajime@gmail.com>
To:     anton.ivanov@cambridgegreys.com
Cc:     linux-um@lists.infradead.org, jdike@addtoit.com, richard@nod.at,
        tavi.purdila@gmail.com, retrage01@gmail.com,
        linux-kernel-library@freelists.org, linux-arch@vger.kernel.org,
        tavi@cs.pub.ro
Subject: Re: [RFC v6 01/21] um: split build in kernel and host parts
In-Reply-To: <738c23cc-7c19-90b8-c0d3-1a56ad3fb3e3@cambridgegreys.com>
References: <cover.1600922528.git.thehajime@gmail.com>
        <034e4235086fceb43659c679770b7088e974f5d7.1600922528.git.thehajime@gmail.com>
        <738c23cc-7c19-90b8-c0d3-1a56ad3fb3e3@cambridgegreys.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) Emacs/25.3 Mule/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Content-Type: text/plain; charset=US-ASCII
Precedence: bulk
List-ID: <linux-arch.vger.kernel.org>
X-Mailing-List: linux-arch@vger.kernel.org


On Thu, 24 Sep 2020 16:33:49 +0900,
Anton Ivanov wrote:

> > The host build part has been implemented in tools/um so that we can
> > reuse the available host build infrastructure.
> > 
> > The patch also changes the UML build invocation, if before
> > 
> >   $ make ARCH=um defconfig
> >   $ make ARCH=um
> > 
> > was generating the executable now this only generates the relocatable
> > object.
> 
> This will break packaging in all distributions. We need to figure out an alternative way which is backward compatible with their builds.

Hmm, I understand the situation.
We may have to put additional steps after generating the relocatable
object in arch/um/Makefile.

-- Hajime
